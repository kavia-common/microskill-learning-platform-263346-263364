{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API client module for interacting with the backend of a Learning Management System (LMS). It provides functions to fetch skills, get skill details, enroll in skills, get and update progress, and generate AI-based content, along with internal utilities for URL building and error handling.", "external_files": ["fetch", "window", "process.env"], "external_methods": ["fetch", "JSON.stringify"], "published": ["listSkills", "getSkill", "enrollSkill", "getSkillProgress", "updateSkillProgress", "generateLessonAI", "generateMediaAI", "__apiDiagnostics", "__buildApiUrl", "__apiBase"], "classes": [], "methods": [{"name": "buildUrl(path)", "description": "Constructs a URL by combining the inferred base URL with a given path, handling trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "responseToError(res)", "description": "Converts a fetch response into a detailed Error object with status and payload information.", "scope": "", "scopeKind": ""}, {"name": "fetchJson(url, options = {}, onErrorToast)", "description": "Performs a fetch request with error handling and optional toast notification for errors, returning parsed JSON.", "scope": "", "scopeKind": ""}, {"name": "listSkills({ search = '', level, tag } = {}, onErrorToast)", "description": "Fetches a list of skills from the backend, applying optional filters for search, level, and tag.", "scope": "", "scopeKind": ""}, {"name": "getSkill(id, onErrorToast)", "description": "Retrieves detailed information about a specific skill by ID.", "scope": "", "scopeKind": ""}, {"name": "enrollSkill(id, onErrorToast)", "description": "Enrolls the current user in a specified skill.", "scope": "", "scopeKind": ""}, {"name": "getSkillProgress(skillId, onErrorToast)", "description": "Fetches the progress data for a specific skill.", "scope": "", "scopeKind": ""}, {"name": "updateSkillProgress(skillId, payload, onErrorToast)", "description": "Updates the progress data for a particular skill.", "scope": "", "scopeKind": ""}, {"name": "generateLessonAI({ topic, audience, tone, dryRun = false }, onErrorToast)", "description": "Generates lesson content using AI based on provided parameters.", "scope": "", "scopeKind": ""}, {"name": "generateMediaAI({ title, summary, takeaways }, onErrorToast)", "description": "Generates media content using AI based on provided parameters.", "scope": "", "scopeKind": ""}, {"name": "__apiDiagnostics()", "description": "Provides diagnostic information about the current API base URL configuration.", "scope": "", "scopeKind": ""}, {"name": "__buildApiUrl", "description": "Alias for buildUrl function."}, {"name": "__apiBase", "description": "Exposed inferred base URL used internally."}, {"name": "safeJson(res)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "responseToError", "safeJson"], "search-terms": ["api client", "LMS backend", "skills list", "skill detail", "progress update", "AI lesson", "media generation", "fetch wrapper", "URL builder"], "state": 2, "file_id": 13, "knowledge_revision": 215, "git_revision": "aa4d17eaa3e5c7e0da3a407c95b9206cd4e89920", "revision_history": [{"28": ""}, {"158": "179f4fab9fe8c90c023745d1da03e50d50011cd6"}, {"159": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"160": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"166": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"167": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"175": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"180": "b9ef4e31c0ab40d799a302b2486db1c5a62c1241"}, {"189": "a1516ded715b948b6da82547455707c626629048"}, {"191": "a1516ded715b948b6da82547455707c626629048"}, {"215": "aa4d17eaa3e5c7e0da3a407c95b9206cd4e89920"}], "ctags": [{"_type": "tag", "name": "__apiDiagnostics", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export function __apiDiagnostics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "enrollSkill", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function enrollSkill(id, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, onErrorToast)"}, {"_type": "tag", "name": "fetchJson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function fetchJson(url, options = {}, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {}, onErrorToast)"}, {"_type": "tag", "name": "generateLessonAI", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateLessonAI({ topic, audience, tone, dryRun = false }, onErrorToast) /", "language": "JavaScript", "kind": "function", "signature": "({ topic, audience, tone, dryRun = false }, onErrorToast)"}, {"_type": "tag", "name": "generateMediaAI", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateMediaAI({ title, summary, takeaways }, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title, summary, takeaways }, onErrorToast)"}, {"_type": "tag", "name": "getSkill", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getSkill(id, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, onErrorToast)"}, {"_type": "tag", "name": "getSkillProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getSkillProgress(skillId, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(skillId, onErrorToast)"}, {"_type": "tag", "name": "inferredBase", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^const inferredBase = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listSkills", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function listSkills({ search = '', level, tag } = {}, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "({ search = '', level, tag } = {}, onErrorToast)"}, {"_type": "tag", "name": "responseToError", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function responseToError(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "safeJson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function safeJson(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "updateSkillProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function updateSkillProgress(skillId, payload, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(skillId, payload, onErrorToast)"}], "hash": "b76bbf7df7ae7bcbe443c69529a49027", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/api.js"}