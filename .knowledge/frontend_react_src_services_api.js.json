{"is_source_file": true, "format": "JavaScript", "description": "This file provides an API client for interacting with the backend LMS services. It includes functions for fetching lessons, quizzes, user progress, and for generating lessons and media via API calls. It handles URL construction based on environment variables, error handling for fetch requests, and exports a set of public API functions.", "external_files": ["fetch", "Error", "window", "process.env", "JSON"], "external_methods": ["fetchJson", "responseToError", "safeJson"], "published": ["getLessons", "getLesson", "getQuiz", "submitQuiz", "getProgress", "updateProgress", "generateLessonAI", "generateMediaAI", "__apiDiagnostics", "__buildApiUrl", "__apiBase"], "classes": [], "methods": [{"name": "buildUrl(path)", "description": "Constructs a full URL for API endpoints based on the inferredBase value and provided path.", "scope": "", "scopeKind": ""}, {"name": "responseToError(res)", "description": "Converts a non-OK fetch Response into a detailed Error object with status and payload information.", "scope": "", "scopeKind": ""}, {"name": "fetchJson(url, options = {}, onErrorToast)", "description": "Performs a fetch request, parses the JSON, and handles errors with optional UI toast notifications.", "scope": "", "scopeKind": ""}, {"name": "safeJson(res)", "description": "Attempts to parse a fetch response as JSON, returning null if parsing fails.", "scope": "", "scopeKind": ""}, {"name": "__apiDiagnostics()", "description": "Provides a diagnostic string about the current API base configuration.", "scope": "", "scopeKind": ""}, {"name": "generateLessonAI({ topic, audience, tone, dryRun = false }, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "generateMediaAI({ title, summary, takeaways }, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getLesson(id, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getLessons(onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getProgress(userId, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getQuiz(lessonId, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "submitQuiz(lessonId, userId, answers, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateProgress(payload, onErrorToast)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "responseToError", "safeJson"], "search-terms": ["api client", "Lesson", "quiz", "progress", "generate-lesson", "generate-media", "fetchJson", "backend API"], "state": 2, "file_id": 13, "knowledge_revision": 191, "git_revision": "a1516ded715b948b6da82547455707c626629048", "revision_history": [{"28": ""}, {"158": "179f4fab9fe8c90c023745d1da03e50d50011cd6"}, {"159": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"160": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"166": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"167": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"175": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"180": "b9ef4e31c0ab40d799a302b2486db1c5a62c1241"}, {"189": "a1516ded715b948b6da82547455707c626629048"}, {"191": "a1516ded715b948b6da82547455707c626629048"}], "ctags": [{"_type": "tag", "name": "__apiDiagnostics", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export function __apiDiagnostics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "fetchJson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function fetchJson(url, options = {}, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {}, onErrorToast)"}, {"_type": "tag", "name": "generateLessonAI", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateLessonAI({ topic, audience, tone, dryRun = false }, onErrorToast) /", "language": "JavaScript", "kind": "function", "signature": "({ topic, audience, tone, dryRun = false }, onErrorToast)"}, {"_type": "tag", "name": "generateMediaAI", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateMediaAI({ title, summary, takeaways }, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title, summary, takeaways }, onErrorToast)"}, {"_type": "tag", "name": "getLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getLesson(id, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, onErrorToast)"}, {"_type": "tag", "name": "getLessons", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getLessons(onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(onErrorToast)"}, {"_type": "tag", "name": "getProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getProgress(userId, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, onErrorToast)"}, {"_type": "tag", "name": "getQuiz", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getQuiz(lessonId, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, onErrorToast)"}, {"_type": "tag", "name": "inferredBase", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^const inferredBase = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "responseToError", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function responseToError(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "safeJson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function safeJson(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "submitQuiz", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function submitQuiz(lessonId, userId, answers, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, userId, answers, onErrorToast)"}, {"_type": "tag", "name": "updateProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function updateProgress(payload, onErrorToast) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload, onErrorToast)"}], "hash": "32dafc8746ea55bf0a3e4eefdb714fc7", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/api.js"}