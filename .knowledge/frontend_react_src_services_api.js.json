{"is_source_file": true, "format": "JavaScript", "description": "This file defines API client functions for interacting with a Learning Management System (LMS) backend. It includes utility functions for constructing URLs, handling responses and errors, and specific functions for lessons, progress, quizzes, media generation, and diagnostics.", "external_files": ["../utils/settings"], "external_methods": ["runtime.apiBase"], "published": ["__apiBase", "__buildApiUrl", "listLessons", "getLesson", "enrollLesson", "getProgress", "updateProgress", "getQuiz", "submitQuiz", "generateLesson", "generateMedia", "__apiDiagnostics"], "classes": [], "methods": [{"name": "__buildApiUrl(path)", "description": "Constructs the full API URL based on the base URL and provided path, handling trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "safeJson(res)", "description": "Safely parses the fetch response as JSON, returning null if parsing fails.", "scope": "", "scopeKind": ""}, {"name": "responseToError(res, url)", "description": "Creates an Error object from a failed fetch response, including payload, status, URL, and potential CORS hints.", "scope": "", "scopeKind": ""}, {"name": "jsonFetch(path, options = {})", "description": "Performs a fetch request with JSON content-type, handles errors, and returns parsed JSON or text.", "scope": "", "scopeKind": ""}, {"name": "__apiDiagnostics()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "enrollLesson(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "generateLesson(seed)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "generateMedia({ type, prompt })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getLesson(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getProgress(userId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getQuiz(lessonId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listLessons()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "submitQuiz(lessonId, answers)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateProgress({ lessonId, moduleIndex, status, score })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "safeJson", "responseToError", "jsonFetch", "encodeURIComponent"], "search-terms": ["api client", "lessons", "progress", "quiz", "media generation", "CORS", "JSON fetch", "backend API"], "state": 2, "file_id": 13, "knowledge_revision": 249, "git_revision": "79926bec57bf34a077a287485d2a79a0dad135f5", "revision_history": [{"28": ""}, {"158": "179f4fab9fe8c90c023745d1da03e50d50011cd6"}, {"159": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"160": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"166": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"167": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"175": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"180": "b9ef4e31c0ab40d799a302b2486db1c5a62c1241"}, {"189": "a1516ded715b948b6da82547455707c626629048"}, {"191": "a1516ded715b948b6da82547455707c626629048"}, {"215": "aa4d17eaa3e5c7e0da3a407c95b9206cd4e89920"}, {"249": "79926bec57bf34a077a287485d2a79a0dad135f5"}], "ctags": [{"_type": "tag", "name": "__apiBase", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export const __apiBase = runtime.apiBase;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__apiDiagnostics", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export function __apiDiagnostics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "__buildApiUrl", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export function __buildApiUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "enrollLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function enrollLesson(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "generateLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateLesson(seed) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed)"}, {"_type": "tag", "name": "generateMedia", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateMedia({ type, prompt }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ type, prompt })"}, {"_type": "tag", "name": "getLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getLesson(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getProgress(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "getQuiz", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getQuiz(lessonId) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId)"}, {"_type": "tag", "name": "jsonFetch", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function jsonFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "lessonId", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^  const body = { lessonId, moduleIndex, status, score };$/", "language": "JavaScript", "kind": "field", "scope": "updateProgress.body", "scopeKind": "class"}, {"_type": "tag", "name": "listLessons", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function listLessons() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "responseToError", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function responseToError(res, url) {$/", "language": "JavaScript", "kind": "function", "signature": "(res, url)"}, {"_type": "tag", "name": "safeJson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function safeJson(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "submitQuiz", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function submitQuiz(lessonId, answers) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, answers)"}, {"_type": "tag", "name": "updateProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function updateProgress({ lessonId, moduleIndex, status, score }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ lessonId, moduleIndex, status, score })"}], "hash": "9c00c715c822e4204c0360bc8c2b2a81", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/api.js", "fields": [{"name": "const body = { lessonId, moduleIndex, status, score };", "scope": "updateProgress.body", "scopeKind": "class", "description": "unavailable"}]}