{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for health checks and backend API interactions for a React frontend application, including probing backend availability, checking specific API endpoints, and constructing backend URLs.", "external_files": ["fetch API (browser built-in)", "process.env (environment variables)", "window.location (browser global object)"], "external_methods": ["fetch"], "published": ["probeBackend", "probeApiEndpoints", "getBackendBase", "buildBackendUrl"], "classes": [], "methods": [{"name": "probeBackend(baseUrlBuilder)", "description": "Checks if the backend root URL is reachable and returns an object indicating success or failure.", "scope": "", "scopeKind": ""}, {"name": "probeApiEndpoints(baseUrlBuilder)", "description": "Checks specific API endpoints for availability and CORS support, returning results for each endpoint.", "scope": "", "scopeKind": ""}, {"name": "getBackendBase()", "description": "Determines the base URL for the backend, considering environment variables and localhost conditions.", "scope": "", "scopeKind": ""}, {"name": "buildBackendUrl(path)", "description": "Constructs a full URL for a given API path based on the backend base URL.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "typeof", "window.location.hostname", "window.location"], "search-terms": ["health check", "API endpoint probing", "backend URL construction", "React environment", "fetch API"], "state": 2, "file_id": 52, "knowledge_revision": 177, "git_revision": "fc5b9a52b440ede37216550beb863f20c32970ea", "revision_history": [{"162": ""}, {"177": "fc5b9a52b440ede37216550beb863f20c32970ea"}], "ctags": [{"_type": "tag", "name": "buildBackendUrl", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^ export function buildBackendUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "getBackendBase", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^ export function getBackendBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: false, status: getRes?.status || 0, message: 'Not reachable' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: getRes.status, message: 'GET OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: head.status, message: 'HEAD OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: opt.status, message: 'CORS preflight OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^       results[ep] = { ok: false, status: 0, message: `Network error: ${e?.message || e}` };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: false, status: getRes?.status || 0, message: 'Not reachable' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: getRes.status, message: 'GET OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: head.status, message: 'HEAD OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: opt.status, message: 'CORS preflight OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^       results[ep] = { ok: false, status: 0, message: `Network error: ${e?.message || e}` };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "probeApiEndpoints", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^ export async function probeApiEndpoints(baseUrlBuilder) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrlBuilder)"}, {"_type": "tag", "name": "probeBackend", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^ export async function probeBackend(baseUrlBuilder) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrlBuilder)"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: false, status: getRes?.status || 0, message: 'Not reachable' };$/", "language": "JavaScript", "kind": "class", "scope": "probeApiEndpoints", "scopeKind": "class"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: getRes.status, message: 'GET OK' };$/", "language": "JavaScript", "kind": "class", "scope": "probeApiEndpoints", "scopeKind": "class"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: head.status, message: 'HEAD OK' };$/", "language": "JavaScript", "kind": "class", "scope": "probeApiEndpoints", "scopeKind": "class"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: opt.status, message: 'CORS preflight OK' };$/", "language": "JavaScript", "kind": "class", "scope": "probeApiEndpoints", "scopeKind": "class"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^       results[ep] = { ok: false, status: 0, message: `Network error: ${e?.message || e}` };$/", "language": "JavaScript", "kind": "class", "scope": "probeApiEndpoints", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: false, status: getRes?.status || 0, message: 'Not reachable' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: getRes.status, message: 'GET OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: head.status, message: 'HEAD OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^         results[ep] = { ok: true, status: opt.status, message: 'CORS preflight OK' };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/health.js", "pattern": "/^       results[ep] = { ok: false, status: 0, message: `Network error: ${e?.message || e}` };$/", "language": "JavaScript", "kind": "property", "scope": "probeApiEndpoints.results", "scopeKind": "class"}], "hash": "4eff71dd6bee4ddd663ae9fcbc5df00a", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/health.js", "fields": [{"name": "results[ep] = { ok: false, status: getRes?.status || 0, message: 'Not reachable' };", "scope": "probeApiEndpoints.results", "scopeKind": "class", "description": "unavailable"}, {"name": "results[ep] = { ok: true, status: getRes.status, message: 'GET OK' };", "scope": "probeApiEndpoints.results", "scopeKind": "class", "description": "unavailable"}, {"name": "results[ep] = { ok: true, status: head.status, message: 'HEAD OK' };", "scope": "probeApiEndpoints.results", "scopeKind": "class", "description": "unavailable"}, {"name": "results[ep] = { ok: true, status: opt.status, message: 'CORS preflight OK' };", "scope": "probeApiEndpoints.results", "scopeKind": "class", "description": "unavailable"}, {"name": "results[ep] = { ok: false, status: 0, message: `Network error: ${e?.message || e}` };", "scope": "probeApiEndpoints.results", "scopeKind": "class", "description": "unavailable"}]}