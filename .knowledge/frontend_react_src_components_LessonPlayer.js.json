{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component 'LessonPlayer' that renders a video with optional audio voiceover and captions, handling media loading, URL prefixing, and user feedback via toasts.", "external_files": ["./CaptionOverlay", "../utils/audioMapping", "../utils/settings", "../ui/ToastHost", "../utils/audioManager", "../utils/videoMapping"], "external_methods": ["CaptionOverlay", "loadSettings", "runtime", "addGlobalToast", "globalAudioManager.register", "globalAudioManager.unregister", "globalAudioManager.resolveForLesson", "mapLessonToVideo", "inferFallbackCaptionLines"], "published": ["LessonPlayer"], "classes": [], "methods": [{"name": "LessonPlayer", "description": "React functional component rendering a media player with captions and audio, managing media loading, URL prefixing, and user interactions."}], "calls": ["useRef", "useEffect", "useState", "useCallback", "addGlobalToast", "globalAudioManager.register", "globalAudioManager.unregister", "globalAudioManager.resolveForLesson", "mapLessonToVideo", "inferFallbackCaptionLines", "fetch", "JSON.parse", "setCaptions", "setCurrentCaption", "setResolved", "setVideoResolved"], "search-terms": ["LessonPlayer", "React video component", "media URL prefixing", "captions handling", "audio voiceover", "media loading", "caption overlay"], "state": 2, "file_id": 28, "knowledge_revision": 354, "git_revision": "a16f670a4b7e6985f6a8f9469f3e0acd8cab7833", "revision_history": [{"61": ""}, {"112": "a06f10fc792abe692c0c2c6f4adb036aea58b7bb"}, {"124": "bdb8a517762149f72ddb6d5ffceca389707f4db1"}, {"128": "bdb8a517762149f72ddb6d5ffceca389707f4db1"}, {"135": "8c0572af909687e772ee9dfecdccc679e63e7ffb"}, {"136": "8c0572af909687e772ee9dfecdccc679e63e7ffb"}, {"143": "8633c321f01c813be75279ff119cc20045c1cf37"}, {"170": "38d00b597a494b00d9228552079ff2700091ca08"}, {"171": "38d00b597a494b00d9228552079ff2700091ca08"}, {"179": "b9ef4e31c0ab40d799a302b2486db1c5a62c1241"}, {"270": "8a58cf130ca2a2be737966ce4f247d50628aad46"}, {"354": "a16f670a4b7e6985f6a8f9469f3e0acd8cab7833"}], "ctags": [], "filename": "frontend_react/src/components/LessonPlayer.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/microskill-learning-platform-263346-263364.git:kavia-main"}