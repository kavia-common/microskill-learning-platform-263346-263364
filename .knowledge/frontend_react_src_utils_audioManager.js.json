{"is_source_file": true, "format": "JavaScript", "description": "This file defines a GlobalAudioManager class responsible for managing multiple audio elements, ensuring that only one plays at a time. It provides methods to register/unregister audio elements, play them immediately, pause all, and enforce single playback policy. It also exports a singleton instance and a convenience function for external usage.", "external_files": [], "external_methods": ["audioEl.play()", "audioEl.pause()", "audioEl.addEventListener()", "audioEl.removeEventListener()"], "published": ["globalAudioManager", "enforceSinglePlayback"], "classes": [{"name": "GlobalAudioManager", "description": "A class that manages multiple HTMLAudioElement instances to ensure only one plays at a time. It handles registering/unregistering elements and listening to play and end events."}], "methods": [{"name": "register(audioEl, playNow = false)", "description": "Registers an audio element, optionally playing it immediately while pausing others.", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"name": "unregister(audioEl)", "description": "Unregisters an audio element, removing event listeners and updating the current playing element if applicable.", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"name": "pauseAll()", "description": "Pauses all registered audio elements.", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"name": "pauseAllExcept(audioEl)", "description": "Pauses all registered audio elements except the specified one.", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"name": "_onPlay", "description": "Event handler called when an audio element starts playing; pauses other audios."}, {"name": "_onEnd", "description": "Event handler called when an audio element ends; clears the current playing reference if applicable."}, {"name": "constructor()", "scope": "GlobalAudioManager", "scopeKind": "class", "description": "unavailable"}, {"name": "enforceSinglePlayback(audioEl, shouldPlay)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["audioEl.addEventListener('play', this._onPlay)", "audioEl.addEventListener('ended', this._onEnd)", "audioEl.removeEventListener('play', this._onPlay)", "audioEl.removeEventListener('ended', this._onEnd)"], "search-terms": ["Single Audio Playback Manager", "Audio Elements Control", "React Audio Management", "Global Audio Singleton", "Audio Play Pause Control"], "state": 2, "file_id": 46, "knowledge_revision": 105, "git_revision": "", "ctags": [{"_type": "tag", "name": "GlobalAudioManager", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^class GlobalAudioManager {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_onEnd", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  _onEnd = (e) => {$/", "language": "JavaScript", "kind": "field", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "_onPlay", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  _onPlay = (e) => {$/", "language": "JavaScript", "kind": "field", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "el", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^    const el = e.target;$/", "language": "JavaScript", "kind": "constant", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "enforceSinglePlayback", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^export function enforceSinglePlayback(audioEl, shouldPlay) {$/", "language": "JavaScript", "kind": "function", "signature": "(audioEl, shouldPlay)"}, {"_type": "tag", "name": "globalAudioManager", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^export const globalAudioManager = new GlobalAudioManager();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "pauseAll", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  pauseAll() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "pauseAllExcept", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  pauseAllExcept(audioEl) {$/", "language": "JavaScript", "kind": "method", "signature": "(audioEl)", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  register(audioEl, playNow = false) {$/", "language": "JavaScript", "kind": "method", "signature": "(audioEl, playNow = false)", "scope": "GlobalAudioManager", "scopeKind": "class"}, {"_type": "tag", "name": "unregister", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/audioManager.js", "pattern": "/^  unregister(audioEl) {$/", "language": "JavaScript", "kind": "method", "signature": "(audioEl)", "scope": "GlobalAudioManager", "scopeKind": "class"}], "hash": "fef108a83b30b0fb09602a4a3c4b5a09", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/utils/audioManager.js", "fields": [{"name": "_onEnd = (e) => {", "scope": "GlobalAudioManager", "scopeKind": "class", "description": "unavailable"}, {"name": "_onPlay = (e) => {", "scope": "GlobalAudioManager", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"105": ""}]}