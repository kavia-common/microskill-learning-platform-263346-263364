{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for diagnostics and testing of media endpoints and video playback within a web application. It includes functions to validate media URLs, check content types, and programmatically test video playback capabilities.", "external_files": ["../utils/settings"], "external_methods": ["fetch"], "published": ["runMediaEndpointDiagnostics", "probeVideoPlayback"], "classes": [], "methods": [{"name": "normalizeBase(base)", "description": "Normalizes the base URL by removing trailing slash if present.", "scope": "", "scopeKind": ""}, {"name": "fetchHead(url)", "description": "Performs a HEAD request to the specified URL to retrieve metadata such as content type.", "scope": "", "scopeKind": ""}, {"name": "fetchGet(url)", "description": "Performs a GET request to the specified URL to retrieve content and status.", "scope": "", "scopeKind": ""}, {"name": "runMediaEndpointDiagnostics(slug = 'quick-inbox-zero')", "description": "Checks endpoints for media files (video and captions) to ensure they respond correctly, verifying content types and status codes.", "scope": "", "scopeKind": ""}, {"name": "probeVideoPlayback(url, timeoutMs = 8000)", "description": "Creates an off-DOM video element to probe whether a video can be played back, issuing canplay and error events.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "normalizeBase", "document.createElement", "video.addEventListener", "video.removeEventListener", "video.play"], "search-terms": ["media diagnostics", "video playback", "content type validation", "HEAD request", "endpoint validation"], "state": 2, "file_id": 70, "knowledge_revision": 283, "git_revision": "7aaf4ca262b29b5eed18de0a03f68b11a02826b5", "revision_history": [{"278": ""}, {"283": "7aaf4ca262b29b5eed18de0a03f68b11a02826b5"}], "ctags": [{"_type": "tag", "name": "fetchGet", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/mediaDiagnostics.js", "pattern": "/^async function fetchGet(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "fetchHead", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/mediaDiagnostics.js", "pattern": "/^async function fetchHead(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "normalizeBase", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/mediaDiagnostics.js", "pattern": "/^function normalizeBase(base) {$/", "language": "JavaScript", "kind": "function", "signature": "(base)"}, {"_type": "tag", "name": "probeVideoPlayback", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/mediaDiagnostics.js", "pattern": "/^export async function probeVideoPlayback(url, timeoutMs = 8000) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, timeoutMs = 8000)"}, {"_type": "tag", "name": "runMediaEndpointDiagnostics", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/mediaDiagnostics.js", "pattern": "/^export async function runMediaEndpointDiagnostics(slug = 'quick-inbox-zero') {$/", "language": "JavaScript", "kind": "function", "signature": "(slug = 'quick-inbox-zero')"}], "hash": "d47ff91344ca254808f07b013068c026", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/mediaDiagnostics.js"}