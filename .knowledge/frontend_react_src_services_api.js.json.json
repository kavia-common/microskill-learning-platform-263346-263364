{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API client for interacting with a Learning Management System (LMS) backend. It includes functions for fetching lessons, skills, progress, quizzes, and media, handling JSON responses and errors, and constructing API URLs based on runtime settings.", "external_files": ["../utils/settings"], "external_methods": ["runtime.apiBase"], "published": ["__apiBase", "__buildApiUrl", "listLessons", "listSkills", "getSkill", "getSkillProgress", "updateSkillProgress", "getLesson", "enrollLesson", "getProgress", "updateProgress", "getQuiz", "submitQuiz", "generateLesson", "generateMedia", "__apiDiagnostics"], "classes": [], "methods": [{"name": "__buildApiUrl(path)", "description": "Constructs a complete API URL based on the runtime API base and provided path.", "scope": "", "scopeKind": ""}, {"name": "safeJson(res)", "description": "Parses JSON response safely, returns null on failure.", "scope": "", "scopeKind": ""}, {"name": "responseToError(res, url)", "description": "Transforms a fetch response into an Error object with detailed message and payload.", "scope": "", "scopeKind": ""}, {"name": "jsonFetch(path, options = {})", "description": "Performs a fetch request with JSON handling, error processing, and CORS considerations.", "scope": "", "scopeKind": ""}, {"name": "listLessons()", "description": "Fetches the list of lessons from the backend.", "scope": "", "scopeKind": ""}, {"name": "listSkills(params = {})", "description": "Fetches a list of skills, with optional filtering parameters.", "scope": "", "scopeKind": ""}, {"name": "getSkill(id)", "description": "Fetches details of a specific skill by ID.", "scope": "", "scopeKind": ""}, {"name": "getSkillProgress(skillId)", "description": "Gets progress data for a specific skill.", "scope": "", "scopeKind": ""}, {"name": "updateSkillProgress(skillId, payload)", "description": "Updates progress for a specific skill with provided payload.", "scope": "", "scopeKind": ""}, {"name": "getLesson(id)", "description": "Fetches details of a specific lesson by ID.", "scope": "", "scopeKind": ""}, {"name": "enrollLesson(id)", "description": "Enrolls the user in a specific lesson.", "scope": "", "scopeKind": ""}, {"name": "getProgress(userId)", "description": "Retrieves user progress data, optionally filtered by userId.", "scope": "", "scopeKind": ""}, {"name": "updateProgress({ lessonId, moduleIndex, status, score })", "description": "Updates progress data with provided lesson and status info.", "scope": "", "scopeKind": ""}, {"name": "getQuiz(lessonId)", "description": "Retrieves quiz data for a specific lesson.", "scope": "", "scopeKind": ""}, {"name": "submitQuiz(lessonId, answers)", "description": "Submits answers for a lesson quiz.", "scope": "", "scopeKind": ""}, {"name": "generateLesson(seed)", "description": "Generates a new lesson based on a seed.", "scope": "", "scopeKind": ""}, {"name": "generateMedia({ type, prompt })", "description": "Generates media content based on specified type and prompt.", "scope": "", "scopeKind": ""}, {"name": "__apiDiagnostics()", "description": "Provides a string describing the current API base configuration and guidance.", "scope": "", "scopeKind": ""}], "calls": ["runtime.apiBase", "fetch", "res.json", "res.text", "safeJson", "responseToError", "jsonFetch", "URLSearchParams"], "search-terms": ["API client", "Lessons API", "Skills API", "Progress API", "Media generation", "Error handling", "JSON fetch", "CORS", "React environment variables", "Backend URL"], "state": 2, "file_id": 13, "knowledge_revision": 267, "git_revision": "27d867d49fab8a74b288f9d2b4421b67522d3895", "revision_history": [{"28": ""}, {"158": "179f4fab9fe8c90c023745d1da03e50d50011cd6"}, {"159": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"160": "af4393856384f9763b6534a31d1e409b21be87ac"}, {"166": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"167": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"175": "fc5b9a52b440ede37216550beb863f20c32970ea"}, {"180": "b9ef4e31c0ab40d799a302b2486db1c5a62c1241"}, {"189": "a1516ded715b948b6da82547455707c626629048"}, {"191": "a1516ded715b948b6da82547455707c626629048"}, {"215": "aa4d17eaa3e5c7e0da3a407c95b9206cd4e89920"}, {"249": "79926bec57bf34a077a287485d2a79a0dad135f5"}, {"267": "27d867d49fab8a74b288f9d2b4421b67522d3895"}], "ctags": [{"_type": "tag", "name": "__apiBase", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export const __apiBase = runtime.apiBase;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__apiDiagnostics", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export function __apiDiagnostics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "__buildApiUrl", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export function __buildApiUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "enrollLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function enrollLesson(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "generateLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateLesson(seed) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed)"}, {"_type": "tag", "name": "generateMedia", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function generateMedia({ type, prompt }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ type, prompt })"}, {"_type": "tag", "name": "getLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getLesson(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getProgress(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "getQuiz", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getQuiz(lessonId) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId)"}, {"_type": "tag", "name": "getSkill", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getSkill(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getSkillProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function getSkillProgress(skillId) {$/", "language": "JavaScript", "kind": "function", "signature": "(skillId)"}, {"_type": "tag", "name": "jsonFetch", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function jsonFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "lessonId", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^  const body = { lessonId, moduleIndex, status, score };$/", "language": "JavaScript", "kind": "field", "scope": "updateProgress.body", "scopeKind": "class"}, {"_type": "tag", "name": "listLessons", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function listLessons() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listSkills", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function listSkills(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "responseToError", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function responseToError(res, url) {$/", "language": "JavaScript", "kind": "function", "signature": "(res, url)"}, {"_type": "tag", "name": "safeJson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^async function safeJson(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "submitQuiz", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function submitQuiz(lessonId, answers) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, answers)"}, {"_type": "tag", "name": "updateProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function updateProgress({ lessonId, moduleIndex, status, score }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ lessonId, moduleIndex, status, score })"}, {"_type": "tag", "name": "updateSkillProgress", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/services/api.js", "pattern": "/^export async function updateSkillProgress(skillId, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(skillId, payload)"}], "hash": "82919f455b8fa3dfd54f9877a29d0769", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/api.js", "fields": [{"name": "const body = { lessonId, moduleIndex, status, score };", "scope": "updateProgress.body", "scopeKind": "class", "description": "unavailable"}]}