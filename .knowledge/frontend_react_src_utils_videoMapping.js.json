{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for mapping lesson titles and IDs to video assets, including slug generation, environment-based alias handling, and probing for existing video, thumbnail, and caption files. It exports functions for converting lesson data into video resource URLs and attaching these URLs to lesson objects.", "external_files": ["fetch API"], "external_methods": ["fetch"], "published": ["toVideoSlug", "mapLessonToVideo", "attachVideoToLesson"], "classes": [], "methods": [{"name": "toVideoSlug(str)", "description": "Creates a sanitized, URL-friendly slug from a free-form string, handling lowercasing, trimming, accent removal, and character cleaning.", "scope": "", "scopeKind": ""}, {"name": "mapLessonToVideo(lesson)", "description": "Resolves lesson details (title, id) to corresponding video, poster, and caption URLs by probing candidate URLs in order of priority.", "scope": "", "scopeKind": ""}, {"name": "attachVideoToLesson(lesson)", "description": "Augments a lesson object with video URL, thumbnail, and caption URL if they are missing, using the mapping functions.", "scope": "", "scopeKind": ""}, {"name": "headExists(url)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "probeFirstExists(urls)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "vlog(level, msg, meta)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "probeFirstExists", "headExists"], "search-terms": ["video mapping", "lesson to video", "slug generation", "video asset resolution", "environment overrides", "video asset probing"], "state": 2, "file_id": 50, "knowledge_revision": 141, "git_revision": "", "ctags": [{"_type": "tag", "name": "60-Second Focus Reset", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  '60-Second Focus Reset': '4-4-6-reset',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "CAPTIONS_VTT_BASE", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const CAPTIONS_VTT_BASE = '\\/assets\\/captions';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_TITLE_TO_SLUG", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const DEFAULT_TITLE_TO_SLUG = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "ENV_TITLE_TO_SLUG", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^let ENV_TITLE_TO_SLUG = {};$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "Five-Minute Map", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'Five-Minute Map': 'five-minute-map',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "Focus Sprints", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'Focus Sprints': 'focus-sprints',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "G-M-A Formula", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'G-M-A Formula': 'g-m-a-formula',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "Inbox Zero in Minutes", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'Inbox Zero in Minutes': 'quick-inbox-zero',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "Inbox Zero", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'Inbox Zero': 'quick-inbox-zero',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "KNOWN_ALIAS_SLUGS", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const KNOWN_ALIAS_SLUGS = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LOG_LEVEL", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const LOG_LEVEL = (process.env.REACT_APP_LOG_LEVEL || 'info').toLowerCase();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LOG_LEVEL_ORDER", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const LOG_LEVEL_ORDER = { debug: 10, info: 20, warn: 30, error: 40 };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Memory Ladder", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'Memory Ladder': 'memory-ladder',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "Micro Leadership Tips", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'Micro Leadership Tips': 'micro-leadership-tips',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "THUMB_BASE", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const THUMB_BASE = '\\/assets\\/video\\/thumb';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TITLE_TO_SLUG", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const TITLE_TO_SLUG = { ...DEFAULT_TITLE_TO_SLUG, ...ENV_TITLE_TO_SLUG };$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "The 4-4-6 Reset", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^  'The 4-4-6 Reset': '4-4-6-reset',$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class"}, {"_type": "tag", "name": "VIDEO_BASE", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const VIDEO_BASE = '\\/assets\\/video\\/mp4';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "attachVideoToLesson", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^export async function attachVideoToLesson(lesson) {$/", "language": "JavaScript", "kind": "function", "signature": "(lesson)"}, {"_type": "tag", "name": "debug", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const LOG_LEVEL_ORDER = { debug: 10, info: 20, warn: 30, error: 40 };$/", "language": "JavaScript", "kind": "property", "scope": "LOG_LEVEL_ORDER", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const LOG_LEVEL_ORDER = { debug: 10, info: 20, warn: 30, error: 40 };$/", "language": "JavaScript", "kind": "property", "scope": "LOG_LEVEL_ORDER", "scopeKind": "class"}, {"_type": "tag", "name": "headExists", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^async function headExists(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "info", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const LOG_LEVEL_ORDER = { debug: 10, info: 20, warn: 30, error: 40 };$/", "language": "JavaScript", "kind": "property", "scope": "LOG_LEVEL_ORDER", "scopeKind": "class"}, {"_type": "tag", "name": "mapLessonToVideo", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^export async function mapLessonToVideo(lesson) {$/", "language": "JavaScript", "kind": "function", "signature": "(lesson)"}, {"_type": "tag", "name": "probeFirstExists", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^async function probeFirstExists(urls) {$/", "language": "JavaScript", "kind": "function", "signature": "(urls)"}, {"_type": "tag", "name": "toVideoSlug", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^export function toVideoSlug(str) {$/", "language": "JavaScript", "kind": "function", "signature": "(str)"}, {"_type": "tag", "name": "vlog", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^function vlog(level, msg, meta) {$/", "language": "JavaScript", "kind": "function", "signature": "(level, msg, meta)"}, {"_type": "tag", "name": "warn", "path": "/home/kavia/workspace/code-generation/microskill-learning-platform-263346-263364/frontend_react/src/utils/videoMapping.js", "pattern": "/^const LOG_LEVEL_ORDER = { debug: 10, info: 20, warn: 30, error: 40 };$/", "language": "JavaScript", "kind": "property", "scope": "LOG_LEVEL_ORDER", "scopeKind": "class"}], "hash": "35d754bcb725a35e20d0f01439508bb8", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/utils/videoMapping.js", "fields": [{"name": "'60-Second Focus Reset': '4-4-6-reset',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "let ENV_TITLE_TO_SLUG = {};", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "'Five-Minute Map': 'five-minute-map',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'Focus Sprints': 'focus-sprints',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'G-M-A Formula': 'g-m-a-formula',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'Inbox Zero in Minutes': 'quick-inbox-zero',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'Inbox Zero': 'quick-inbox-zero',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'Memory Ladder': 'memory-ladder',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'Micro Leadership Tips': 'micro-leadership-tips',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "'The 4-4-6 Reset': '4-4-6-reset',", "scope": "DEFAULT_TITLE_TO_SLUG", "scopeKind": "class", "description": "unavailable"}, {"name": "const LOG_LEVEL_ORDER = { debug: 10, info: 20, warn: 30, error: 40 };", "scope": "LOG_LEVEL_ORDER", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"141": ""}]}